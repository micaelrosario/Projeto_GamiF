<!DOCTYPE html>
<html lang="pt-BR" data-bs-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GAMIF</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
    <link rel="stylesheet" href="css/style.css"> 
    <script type="module" src="./script/home.js" defer></script>
    <script type="importmap">
       {
            "imports": {
                "confetti-lib": "./script/confetti-js-master/dist/index.min.js", 
                
                "./script/data.js": "./script/data.js", 
                "./script/ui.js": "./script/ui.js",
                "./script/state.js": "./script/state.js",
                "./script/confetti.js": "./script/confetti.js" }
        }
    </script>
</head>
<body>
    <div class="position-fixed top-0 end-0 p-3 z-3">
        <select id="theme-select" class="form-select form-select-sm">
            <option value="light">Claro</option>
            <option value="dark">Escuro</option>
            <option value="system">Auto</option>
        </select>
    </div>

    <!-- Container Principal da Aplicação -->
    <div class="container my-5" id="app-container" style="display: none;">
        <!-- Cabeçalho da Aplicação -->
        <header class="text-center mb-4" id="brand">
            <img id="app-logo" src="./assets/logo-gamif.png" alt="Logo GamiF" class="img-fluid mb-3">
            <h1 class="display-5 fw-bold">Bem-vindo ao GamiF!</h1>
            <p class="lead">Aprenda de forma divertida e gamificada.</p>
        </header>

        <!-- Seletor de Unidades (Topo da Trilha) 
        <div id="unit-selector-bar" class="unit-selector-bar mb-4">
             Itens de unidade serão gerados dinamicamente via JavaScript 
            <div class="unit-selector-item active" data-unit-id="unit1">Unidade 1</div>
            <div class="unit-selector-item" data-unit-id="unit2">Unidade 2</div>
            <div class="unit-selector-item" data-unit-id="unit3">Unidade 3</div>
            <div class="unit-selector-item" data-unit-id="unit4">Unidade 4</div>
            <div class="unit-selector-item" data-unit-id="unit5">Unidade 5</div>
        </div>-->

        <!-- Container da Trilha Principal -->
        <div id="trail-main-content" class="trail-container">

            <div class="trail-node align-middle" style="top: 50px; left: 45%;" data-quiz-id="quiz1">
                <span class="node-icon"><i class="fas fa-book-open"></i></span>
                <span class="node-label">Lição 1</span>
            </div>
            <div class="trail-node completed" style="top: 150px; left: 55%;" data-quiz-id="quiz2">
                <span class="node-icon"><i class="fas fa-check-circle"></i></span>
                <span class="node-label">Lição 2</span>
            </div>
            <div class="trail-node" style="top: 250px; left: 40%;" data-quiz-id="quiz3">
                <span class="node-icon"><i class="fas fa-question-circle"></i></span>
                <span class="node-label">Quiz 1</span>
            </div>
            <div class="trail-node locked" style="top: 350px; left: 60%;" data-quiz-id="quiz4">
                <span class="node-icon"><i class="fas fa-lock"></i></span>
                <span class="node-label">Lição 3</span>
            </div>
            <div class="trail-node" style="top: 450px; left: 45%;" data-quiz-id="quiz5">
                <span class="node-icon"><i class="fas fa-star"></i></span>
                <span class="node-label">Desafio</span>
            </div>
        </div>

        <!-- NOVO: Container para informações do Quiz (inicialmente escondido) -->
        <div id="quiz-info-popup" class="quiz-info-popup">
            <h4 id="quiz-info-title">Título do Quiz</h4>
            <p id="quiz-info-description">Esta é a descrição detalhada do quiz. Aqui você pode aprender sobre o que o quiz aborda e o que esperar.</p>
            <button id="start-quiz-button" class="btn btn-success">INICIAR QUIZ</button>
        </div>

        <main id="quiz-container" class="card p-5 container">
            <div class="row">
                <img class="col-1 " src="https://d35aaqx5ub95lt.cloudfront.net/images/df223d5b9feb8017b323ed21103eb5ac.svg" alt="">
                <div class="col" id="progress-container">
                    <div id="progress-bar-wrapper">
                        <div id="progress-bar"></div>
                    </div>
                    <span id="progress-text">0/0</span>
                </div>
                <img class="col-1" src="https://d35aaqx5ub95lt.cloudfront.net/images/hearts/7631e3ee734dd4fe7792626b59457fa4.svg" alt="">
            </div>

            <!-- Área da Pergunta -->
            <div id="question-area" class="mb-4">
                <h2 id="question-text" class="text-center">Carregando pergunta...</h2>
            </div>

            <!-- Opções de Resposta -->
            <div id="options-container" class="d-grid gap-3 mb-4">
                <!-- Botões de opção serão gerados aqui -->
            </div>

            <!-- Área de Feedback -->
            <div id="feedback-area" class="mb-4">
                <p id="feedback-text" class="mb-0"></p>
            </div>

            <!-- Botão Próximo/Finalizar -->
            <button id="next-button" class="btn btn-success w-100 mt-3">Próximo</button>
        </main>

        <!-- Botão para voltar aos módulos (se necessário) -->
        <button id="back-to-modules-button" class="nav-button btn btn-secondary mt-4">Voltar à Trilha</button>
    </div>

    <canvas id="confetti-canvas" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; pointer-events: none;"></canvas>
</body>
</html>